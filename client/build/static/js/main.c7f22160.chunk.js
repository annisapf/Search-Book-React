(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{28:function(e,t,a){e.exports=a(58)},33:function(e,t,a){},34:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(33),a(10)),i=a(1),s=a(8);a(34);var u=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],l=t[1];return r.a.createElement("nav",{className:"navbar navbar-b navbar-trans navbar-dark navbar-expand-md fixed-top"},r.a.createElement(o.b,{className:"navbar-brand",to:"/"},"Google Books Search"),r.a.createElement("button",{class:"custom-toggler navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample09","aria-controls":"navbarsExample09","aria-expanded":!a,"aria-label":"Toggle navigation",onClick:function(){return l(!a)}},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"".concat(a?"collapse":""," navbar-collapse"),id:"navbarsExample09"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/search",className:"/search"===window.location.pathname?"nav-link active":"nav-link"},"Search")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/saved",className:"/saved"===window.location.pathname?"nav-link active":"nav-link"},"Saved")))))};var m=function(e){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",{className:"display-3"},e.heading),r.a.createElement("p",{className:"display-5"},e.heading2))};var d=function(e){return r.a.createElement("div",{className:"container".concat(e.fluid?"-fluid":"")},e.children)};function v(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function g(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var f=function(e){return r.a.createElement("div",Object.assign({className:"card mb-3"},e),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 m-3"},r.a.createElement("img",{src:e.src,className:"card-img",alt:e.alt})),r.a.createElement("div",{className:"col-md m-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title,r.a.createElement("span",{className:"m-3"},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{name:"view"},e.buttonvalue1))),r.a.createElement("span",null,r.a.createElement("button",Object.assign({name:e.buttonname2,onClick:e.onClick},e),e.buttonvalue2))),r.a.createElement("h6",{className:"card-title"},"By: ",e.authors)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"card-text"},e.description)))))))};function b(e){return r.a.createElement("div",Object.assign({className:"alert alert-success",id:"success-alert".concat(e.alertnumber),style:{display:"none"}},e),e.title," is saved.")}function E(e){return r.a.createElement("div",Object.assign({className:"alert alert-danger",id:"danger-alert".concat(e.alertnumber),style:{display:"none"}},e),e.title," is removed.")}var h=a(11),p=a.n(h);var k={search:function(e){return p.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},saveBook:function(e){return p.a.post("/api/books/",e)},getBook:function(){return p.a.get("/api/books/")},getBooks:function(){return p.a.get("/api/books/")},deleteBook:function(e){return p.a.delete("/api/books/"+e)}},w=a(7),N=a.n(w);var j=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),i=o[0],E=o[1];function h(e){e.stopPropagation();var t,a,n=e.currentTarget.getAttribute("title"),r=e.currentTarget.getAttribute("authors"),l=e.currentTarget.getAttribute("description"),c=e.currentTarget.getAttribute("src"),o=e.currentTarget.getAttribute("link"),i=e.currentTarget.getAttribute("alertnumber");"save"===e.currentTarget.name&&(t={title:n,authors:r,description:l,image:c,link:o},a=i,k.saveBook(t).then((function(e){N()("#success-alert".concat(a)).show(),N()("#success-alert".concat(a)).fadeTo(3e3,500).slideUp(500,(function(){N()("#success-alert".concat(a)).slideUp(500)}))})).catch((function(e){return console.log(e)})))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(m,null),r.a.createElement(d,null,r.a.createElement("h1",null,"Book Search"),r.a.createElement("form",null,r.a.createElement(v,{onChange:function(e){var t=e.target.value;l(t)},name:"title",value:a}),r.a.createElement(g,{onClick:function(e){var t;e.preventDefault(),t=a,k.search(t).then((function(e){E(e.data.items)})).catch((function(e){return console.log(e)})),l("")}},"Submit"))),r.a.createElement(d,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,i.length>0?"Results":""),i.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(b,{alertnumber:t,title:e.volumeInfo.title}),r.a.createElement(f,{src:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.smallThumbnail:"https://via.placeholder.com/150?text=No Image",alt:e.volumeInfo.title,title:e.volumeInfo.title,authors:e.volumeInfo.authors?e.volumeInfo.authors:"No author available",description:e.volumeInfo.description?e.volumeInfo.description:"No description available",link:e.volumeInfo.infoLink,buttonvalue1:"View",buttonvalue2:"Save",buttonname2:"save",onClick:h,alertnumber:t}))}))))};var y=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1];function c(){k.getBooks().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}function o(e){e.stopPropagation();var t,a,n=e.currentTarget.getAttribute("id"),r=e.currentTarget.getAttribute("alertnumber");"delete"===e.currentTarget.name&&(t=n,a=r,k.deleteBook(t).then((function(e){N()("#danger-alert".concat(a)).show(),N()("#danger-alert".concat(a)).fadeTo(2500,500).slideUp(500,(function(){N()("#danger-alert".concat(a)).slideUp(500)})),setTimeout((function(){c()}),3e3)})).catch((function(e){return console.log(e)})))}return Object(n.useEffect)((function(){c()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(m,null),r.a.createElement(d,null,r.a.createElement("h1",null,"Saved Books"),r.a.createElement("br",null),r.a.createElement("h3",null,a.length>0?"":"No current saved books"),a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(E,{alertnumber:t,title:e.title}),r.a.createElement(f,{src:e.image,alt:e.title,title:e.title,authors:e.authors,description:e.description,link:e.link,buttonvalue1:"View",buttonvalue2:"Delete",buttonname2:"delete",id:e._id,onClick:o,alertnumber:t}))}))))};var O=function(){return r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:["/","/search"]},r.a.createElement(j,null)),r.a.createElement(i.a,{exact:!0,path:"/saved"},r.a.createElement(y,null))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(57);c.a.render(r.a.createElement(O,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");T?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):B(e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.c7f22160.chunk.js.map